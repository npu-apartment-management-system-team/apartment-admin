import{r as m,j as e,R as pe}from"./react-2ce75adb.js";import{c as Le}from"./react-dom-16e2f971.js";import{B as Ee}from"./react-router-dom-93ff5a9d.js";import{a as ae}from"./axios-4a70c6fc.js";import{q as Oe}from"./qs-88f287ae.js";import{J as Te}from"./js-encrypt-af0330d8.js";import{I as E,T as xe,B as k,M as Be,F as D,D as z,S as fe,a as K,b as Ne,L as ge,c as De,H as qe,C as Me,R as M}from"./antd-7a621e03.js";import{U as he,t as ze,v as oe,i as ie,w as R}from"./@ant-design-cfded7e1.js";import{u as je,a as ye,b as N,N as be}from"./react-router-e1c202a2.js";import{P as q}from"./pubsub-js-164616ad.js";import{v as G}from"./uuid-a960c1f4.js";import{s as re}from"./store-502a59ff.js";import"./call-bind-892c8155.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./scheduler-765c72db.js";import"./@remix-run-93d98c9a.js";import"./side-channel-b75e8576.js";import"./object-inspect-13342da8.js";import"./rc-util-47d6e7fe.js";import"./@babel-5495bcd4.js";import"./react-is-e8e5dbb3.js";import"./classnames-776d2d10.js";import"./rc-resize-observer-f62c5579.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./rc-motion-e266f1c3.js";import"./rc-menu-5fc1bfbf.js";import"./rc-overflow-7438515c.js";import"./@rc-component-52982708.js";import"./rc-select-eb4acb45.js";import"./rc-virtual-list-a32a79f0.js";import"./rc-drawer-44056a4a.js";import"./rc-field-form-d2c11a73.js";import"./async-validator-7f96df71.js";import"./scroll-into-view-if-needed-640b7801.js";import"./compute-scroll-into-view-50f8bc03.js";import"./rc-table-0fa57e20.js";import"./rc-pagination-54b07bc4.js";import"./rc-picker-3a32b63b.js";import"./@ctrl-fb5a5473.js";import"./throttle-debounce-87e7e444.js";import"./rc-checkbox-eb7f85fd.js";import"./rc-dropdown-fe796ec7.js";import"./rc-tooltip-5f4e47ac.js";import"./rc-tree-3cc55842.js";import"./rc-input-532910a0.js";import"./rc-textarea-126cd964.js";import"./@emotion-c0b5c018.js";import"./stylis-fad5b415.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))f(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&f(h)}).observe(document,{childList:!0,subtree:!0});function g(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function f(a){if(a.ep)return;a.ep=!0;const d=g(a);fetch(a.href,d)}})();const L=ae.create({baseURL:"https://apartment-server.wangminan.me",paramsSerializer:r=>Oe.stringify(r,{arrayFormat:"brackets"})});L.interceptors.request.use(r=>(window.localStorage.getItem("token")!==void 0&&(r.headers.Authorization="Bearer "+window.localStorage.getItem("token")),r),r=>Promise.reject(r));L.interceptors.response.use(r=>(r!==null&&r.data!==null&&r.data.code!==null&&(r.data.code===4012||r.data.code===4010||r.data.code===4030)&&(window.localStorage.removeItem("token"),setTimeout(()=>{window.location.href="/login"},3e3)),r),r=>Promise.reject(r));const Ke=`MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5vwYRBKySNSl/60qRqcD
lDVcNP9j2UyB7yalGI9MtlBEZ16pEiR08TuZjUL00go5LEb6z+ghVlp6UOsWR6i3
r7Q+FleKHG2yStqqaWx+11OQzOjffXQwqb1t/0bq/tzy04KBinSaB/yqnMc0yO8n
rZx8OtUX5rMcM7BjvpFOdnCSFUAOOfKRirfT5RydyGeLPOnBTwJIwpygGu20++UX
MxARO1aAJeUXeI+9g+XcsAi1EKbI2YdjWJ8PQnBC9+lsDRS3w8uKqUOZdYu/FxAy
bEjQ+YOXzfu2PB9+BdilkztV/yuF6hfk7MpGdA2JoBsJlljSYWH1mUE+e9mnUyHi
/wIDAQAB`;function He(r){const u=new Te;return u.setPublicKey(Ke),u.encrypt(r)}function Qe(r){const u="13777864433",g="root",[f,a]=m.useState(u),[d,h]=m.useState(g),[y,F]=m.useState(!1);function I(b){a(()=>b.target.value)}function S(b){h(()=>b.target.value)}function j(){F(!0),L({method:"POST",url:"/api/auth/login/password",data:{username:f,password:He(d)}}).then(b=>{const{code:p,result:x}=b.data;if(p===2e3)if(window.localStorage.setItem("token",x.token),window.localStorage.setItem("role",x.role),x.user)x.user,r.login(x.role,x.user);else{const w=x.admin;window.localStorage.setItem("user.id",w.id),window.localStorage.setItem("user.name",w.name),window.localStorage.setItem("user.loginAccountId",w.loginAccountId),window.localStorage.setItem("user.email",w.email),r.login(x.role,x.admin)}else{const{msg:w}=b.data;h(""),alert(w)}F(!1)})}return e.jsxs("div",{children:[e.jsx(E,{value:f,onChange:I,placeholder:"Enter your username",prefix:e.jsx(he,{className:"site-form-item-icon"}),suffix:e.jsx(xe,{title:"Extra information",children:e.jsx(ze,{style:{color:"rgba(0,0,0,.45)"}})})}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(E.Password,{value:d,onChange:S,placeholder:"input password",iconRender:b=>b?e.jsx(oe,{}):e.jsx(ie,{})}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(k,{size:"large",type:"primary",loading:y,onClick:j,children:"Login"})]})}function Ge(){const[r,u]=m.useState(""),[g,f]=m.useState(""),[a,d]=m.useState(""),[h,y]=m.useState("");function F(p){u(()=>p.target.value)}function I(p,x){y(x!==""&&p!==x?()=>"error":()=>"")}function S(p){f(()=>p.target.value),I(p.target.value,a)}function j(p){d(()=>p.target.value),I(g,p.target.value)}function b(p){g!==a&&alert("")}return e.jsxs("div",{children:[e.jsx(E,{onChange:F,placeholder:"default size",prefix:e.jsx(he,{})}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(E.Password,{onChange:S,placeholder:"input password",iconRender:p=>p?e.jsx(oe,{}):e.jsx(ie,{})}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(E.Password,{status:h,onChange:j,placeholder:"password again",iconRender:p=>p?e.jsx(oe,{}):e.jsx(ie,{})}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(k,{size:"large",type:"primary",onClick:b,children:"SignUP"})]})}const $e=""+new URL("apartment-d819f74c.svg",import.meta.url).href;function Je(r){const{routers:u}=r,g=je();function f(a){g("/home"+u[parseInt(a.key,10)-1].route,{replace:!0})}return e.jsx("div",{children:e.jsx("div",{children:e.jsx(Be,{mode:r.mode,theme:r.theme,items:r.textitem,onClick:f})})})}function Ve(r){return e.jsx(xe,{placement:"right",title:"先生/女士",children:e.jsxs("span",{children:["欢迎您，",r.job," ",r.usermsg]})})}function _e({open:r,setOpen:u}){let[g]=D.useForm();const f=()=>{d(),u(!1)},a=h=>{d(),console.log("Success:",h)},d=()=>{g.setFieldsValue({apartmentName:"",apartmentPosition:"",apartmentPositionLongitude:"",apartmentPositionLatitude:""})};return e.jsx(e.Fragment,{children:e.jsx(z,{title:"添加公寓",width:600,placement:"right",onClose:f,open:r,children:e.jsxs(D,{name:"basic",form:g,labelCol:{span:6},wrapperCol:{span:18},style:{maxWidth:600},initialValues:{remember:!0},onFinish:a,autoComplete:"off",children:[e.jsx(D.Item,{label:"公寓名称",name:"apartmentName",rules:[{required:!0,message:"请输入要添加的公寓名称"}],children:e.jsx(E,{})}),e.jsx(D.Item,{label:"公寓地点",name:"apartmentPosition",rules:[{required:!0,message:"请输入要添加的公寓地点"}],children:e.jsx(E,{})}),e.jsx(D.Item,{label:"公寓地点所在经度",name:"apartmentPositionLongitude",rules:[{required:!0,message:"请输入要添加的公寓地点所在经度"}],children:e.jsx(E,{})}),e.jsx(D.Item,{label:"公寓地点所在纬度",name:"apartmentPositionLatitude",rules:[{required:!0,message:"请输入要添加的公寓地点所在纬度"}],children:e.jsx(E,{})}),e.jsxs(D.Item,{wrapperCol:{offset:6,span:18},children:[e.jsx(k,{type:"primary",htmlType:"submit",children:"添加"}),e.jsx(k,{onClick:d,style:{marginLeft:"10px"},children:"取消"})]})]})})})}function ne(r){const{getApart:u,getRoom:g,getBed:f}=r;let{tabletype:a,columns:d,tabledata:h,tablepage:y,tabletitle:F}=r;const[I,S]=m.useState(!1),[j,b]=m.useState(!1);q.subscribe("tablereturned",(w,O)=>{S(()=>O),console.log(I)});const[,p]=pe.useState(),x=pe.useCallback(()=>p({}),[]);return m.useEffect(()=>{a==="apart"?(S(!1),u(1,100),x()):a==="room"?(S(!1),g(1,100),x()):a==="bed"&&(S(!1),f(1,100))},[a]),I?(q.subscribe("tablepage",(w,O)=>{y=O,console.log(y)}),e.jsx("div",{children:e.jsxs(K,{direction:"vertical",size:20,children:[e.jsx("h1",{children:F}),e.jsx(k,{onClick:()=>{b(!0)},children:"添加"}),e.jsx(Ne,{columns:d,dataSource:h,pagination:!1}),e.jsx(_e,{open:j,setOpen:b})]})})):e.jsx("div",{children:e.jsx(fe,{})})}const We={textAlign:"center",minHeight:120,lineHeight:"120px",color:"#000",backgroundColor:"#eee"},Xe={textAlign:"center",lineHeight:"120px"};function Ye(r){const{logOut:u}=r,{getApart:g,getRoom:f,getBed:a}=r,{lognum:d,textitem:h,usermsg:y,columns:F,tabledata:I,tablepage:S,tabletitle:j}=r,b=h[d].routers,[p,x]=m.useState(!1);function w(){u()}return e.jsx(K,{direction:"vertical",style:{width:"100%"},size:[0,48],children:e.jsxs(ge,{style:{minHeight:"100vh"},children:[e.jsx(De,{style:Xe,collapsible:!0,collapsed:p,onCollapse:O=>x(O),children:e.jsx(Je,{mode:"inline",theme:"dark",textitem:h[d].item,routers:b})}),e.jsxs(ge,{children:[e.jsx(qe,{children:e.jsx(k,{onClick:w,children:"LogOut"})}),e.jsx(Me,{style:We,children:e.jsxs(ye,{children:[e.jsx(N,{path:"/home/welcome",element:e.jsx(Ve,{job:h[d].name,usermsg:y})}),e.jsx(N,{path:"/home/apart",element:e.jsx(ne,{getApart:g,tabletype:"apart",columns:F,tabledata:I,tablepage:S,tabletitle:j})}),e.jsx(N,{path:"/home/room",element:e.jsx(ne,{getRoom:f,tabletype:"room",columns:F,tabledata:I,tablepage:S,tabletitle:j})}),e.jsx(N,{path:"/home/bed",element:e.jsx(ne,{getBed:a,tabletype:"bed",columns:F,tabledata:I,tablepage:S,tabletitle:j})}),e.jsx(N,{path:"*",element:e.jsx(be,{to:"/home/welcome"})})]})})]})]})})}function Ze(r){const{type:u,title:g,placement:f,onClose:a,open:d,tableitems:h,records:y,apartUpdate:F,roomUpdate:I}=r,[S,j]=m.useState(!1),[b,p]=m.useState(0),[x,w]=m.useState({status:0});function O(){j(!0),F(y.index,x),j(!1)}function $(V){w(()=>(x.status=V.target.value,x)),p(V.target.value)}function J(){j(!0),console.log(y),I(y.index,x),j(!1)}function H(){j(!0),console.log(y),I(y.index,x),j(!1)}if(h.length===0)return e.jsx(z,{title:g,placement:f,onClose:a,open:d,children:e.jsx(fe,{})});if(u==="apart")return e.jsxs(z,{title:g,placement:f,onClose:a,open:d,children:[h,"此公寓",e.jsxs(M.Group,{onChange:$,value:b,children:[e.jsx(M,{value:0,children:"正常使用"}),e.jsx(M,{value:1,children:"启用中"}),e.jsx(M,{value:2,children:"弃用中"}),e.jsx(M,{value:3,children:"已弃用"})]}),e.jsx("br",{}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx(k,{type:"primary",loading:S,onClick:O,children:"修改"})})]});if(u==="room")return e.jsxs(z,{title:g,placement:f,onClose:a,open:d,children:[h,e.jsx("br",{}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx(k,{type:"primary",loading:S,onClick:J,children:"修改"})})]});if(u==="bed")return e.jsxs(z,{title:g,placement:f,onClose:a,open:d,children:[h,e.jsx("br",{}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx(k,{type:"primary",loading:S,onClick:H,children:"修改"})})]})}function U(r,u,g,f,a){return{key:u,icon:g,children:f,label:r,type:a}}const et=[{},{id:1,name:"超级管理员",item:[U("管理员账号管理","1",e.jsx(R,{})),U("外部单位管理","2",e.jsx(R,{})),U("公寓管理","3",e.jsx(R,{})),U("房间管理","4",e.jsx(R,{}))]},{id:2,name:"入住办理员",item:[U("入住申请审核","1",e.jsx(R,{})),U("床位编号录入","2",e.jsx(R,{})),U("人脸录入确认","3",e.jsx(R,{}))]},{id:3,name:"宿舍调配员",item:[U("住/调宿申请","1",e.jsx(R,{})),U("公寓管理","2",e.jsx(R,{})),U("房间管理","3",e.jsx(R,{})),U("床位管理","4",e.jsx(R,{}))],routers:[{route:"/promise"},{route:"/apart"},{route:"/room"},{route:"/bed"}]},{id:4,name:"财务人员",item:[U("缴费统计表","1",e.jsx(R,{})),U("催收信","2",e.jsx(R,{})),U("宿舍情况查询","3",e.jsx(R,{}))]}];function tt(){const[r,u]=m.useState(!1),[g,f]=m.useState(0),[a,d]=m.useState(null),[h,y]=m.useState([]),[F,I]=m.useState([]),[S,j]=m.useState(0),[b,p]=m.useState(""),[x,w]=m.useState(!1),[O,$]=m.useState(""),[J,H]=m.useState({}),[V,_]=m.useState([]),[we,Ie]=m.useState([]),[A,Q]=m.useState({}),[W,T]=m.useState([]),[Se,Ce]=m.useState(""),[nt,X]=m.useState(!1);je(),m.useEffect(()=>{if(window.localStorage.getItem("token")!==null){let i={};i.name=window.localStorage.getItem("user.name"),i.id=window.localStorage.getItem("user.id"),i.loginAccountId=window.localStorage.getItem("user.loginAccountId"),i.email=window.localStorage.getItem("user.email");let s=window.localStorage.getItem("role");ue(s,i)}ae.defaults.baseURL="https://apartment-server.wangminan.me",ae.get("/api/auth/hello")},[]);const le=[{title:"Name",dataIndex:"name",key:"name"},{title:"Position",dataIndex:"position",key:"position"},{title:"Location",dataIndex:"location",key:"location"},{title:"Action",key:"action",render:(i,s,o)=>e.jsxs(K,{size:"middle",children:[e.jsx(k,{type:"primary",onClick:()=>Z(o,s,"apart"),children:"修改此条目"}),e.jsxs(k,{type:"primary",onClick:()=>Fe(o),children:["删除",s.name]})]})}];function Y(i){_(()=>{let s=[];for(let o=0;o<i.length-1;o++)s.push(i[o].dataIndex);return console.log(s),s}),_(s=>s)}function ve(i){Q(()=>(A[i.target.id]=i.target.value,A))}function Z(i,s,o){Ce(()=>o),H(s),w(!0),$(()=>"修改第"+(i+1)+"条"),_(t=>(H(v=>(Ie(()=>{let l=[];for(let C=0;C<t.length;C++)l.push(e.jsxs("div",{children:[e.jsx("p",{children:t[C]}),e.jsx(E,{id:t[C],onChange:ve,defaultValue:v[t[C]]})]},G())),Q(P=>(P[t[C]]=v[t[C]],P));return l}),v)),t))}function ke(i,s){let o=[];if(Q(t=>(o=t.location.split(","),t)),o.length!=2){alert("Location格式不正确！");return}T(t=>(L({method:"PUT",url:`/api/management/apartment/${t[i]}`,data:{foremanAdminId:g,name:A.name,position:A.position,positionLongitude:o[1],positionLatitude:o[0],status:s.status}}).then(v=>{const{code:l}=v.data;if(l===2e3)ee(1,100),alert("修改已完成，请刷新以查看修改结果"),w(!1);else{const{msg:C}=v.data;alert(C),w(!1)}}),t))}function Fe(i){L({method:"DELETE",url:`/api/management/apartment/${W[i]}`}).then(s=>{const{code:o}=s.data;if(o===2e3)ee(1,100);else{const{msg:t}=s.data;alert(t)}})}function ee(i,s){L({method:"GET",url:`/api/management/apartment?pageNum=${i}&pageSize=${s}`}).then(o=>{const{code:t,msg:v}=o.data,{list:l,total:C}=o.data.result;if(t===2e3){p("公寓列表"),j(Math.ceil(C/s)),y(le),Y(le),T(n=>(n=[],n));let P=[];for(let n=0;n<l.length;n++){T(B=>(B.push(l[n].id),B));let c={};c.key=G(),c.index=n,c.name=l[n].name,c.position=l[n].position,c.location=l[n].location,P.push(c)}I(P),X(()=>(q.publish("tablereturned",!0),!0))}else alert(v)})}const de=[{title:"宿舍号",dataIndex:"name",key:"name"},{title:"性别",dataIndex:"sex",key:"sex"},{title:"用途",dataIndex:"usage",key:"usage"},{title:"房间规格",dataIndex:"type",key:"type"},{title:"干部房",dataIndex:"isForCadre",key:"isForCadre"},{title:"保留间",dataIndex:"isReserved",key:"isReserved"},{title:"房间总价",dataIndex:"totalFee",key:"totalFee"},{title:"自理部分",dataIndex:"selfPayFee",key:"selfPayFee"},{title:"单位报销",dataIndex:"refundFee",key:"refundFee"},{title:"Action",key:"action",render:(i,s,o)=>e.jsxs(K,{size:"middle",children:[e.jsx(k,{type:"primary",onClick:()=>Z(o,s,"room"),children:"修改此条目"}),e.jsxs(k,{type:"primary",onClick:()=>Ue(o),children:["删除",s.name]})]})}];function Re(i,s){let o=!0;Q(t=>(t.sex==="man"||t.sex==="男"?t.sex=0:t.sex==="woman"||t.sex==="女"?t.sex=1:(alert("性别格式非法"),o=!1),t.isForCadre==="是"?t.isForCadre=1:t.isForCadre==="否"?t.isForCadre=0:(alert("干部房状态格式非法"),o=!1),t.isReserved==="是"?t.isReserved=1:t.isReserved==="否"?t.isReserved=0:(alert("保留间状态格式非法"),o=!1),t.type==="单人间"?t.type=1:t.type==="双人间"?t.type=2:t.type=parseInt(t.type.substring(0,t.type.indexOf("人"))),t.totalFee!==t.selfPayFee+t.refundFee&&(alert("总价不等于单位报销部分和个人自理部分之和"),o=!1),t)),o&&T(t=>(L({method:"PUT",url:`/api/management/room/${t[i]}`,data:{apartmentId:1,name:A.name,sex:A.sex,usage:A.usage,isForCadre:A.isForCadre,isReserved:A.isReserved,type:A.type,totalFee:A.totalFee,selfPayFee:A.selfPayFee,refundFee:A.refundFee}}).then(v=>{const{code:l}=v.data;if(l===2e3)te(1,100),alert("修改已完成，请刷新以查看修改结果"),w(!1);else{const{msg:C}=v.data;alert(C),w(!1)}}),t))}function Ue(i){L({method:"DELETE",url:`/api/management/room/${W[i]}`}).then(s=>{const{code:o}=s.data;if(o===2e3)te(1,100);else{const{msg:t}=s.data;alert(t)}})}function te(i,s){L.get("/api/management/room",{params:{pageNum:i,pageSize:s,apartmentId:1,query:"",isForCadre:"",type:""}}).then(o=>{const{code:t,msg:v}=o.data,{list:l,total:C}=o.data.result;if(t===2e3){p("房间列表"),j(Math.ceil(C/s)),j(n=>(q.publish("tablepage",n),n)),y(de),Y(de),T(n=>(n=[],n));let P=[];for(let n=0;n<l.length;n++){T(B=>(B.push(l[n].id),B));let c={};c.key=G(),c.index=n,c.name=l[n].name,l[n].sex===0?c.sex="man":l[n].sex===1&&(c.sex="woman"),c.usage=l[n].usage,l[n].type===1?c.type="单人间":l[n].type===2?c.type="双人间":c.type=l[n].type+"人间",l[n].isForCadre?c.isForCadre="是":c.isForCadre="否",l[n].isReserved?c.isReserved="是":c.isReserved="否",c.totalFee=l[n].totalFee,c.selfPayFee=l[n].selfPayFee,c.refundFee=l[n].refundFee,P.push(c)}I(P),X(()=>(q.publish("tablereturned",!0),!0))}else alert(v)})}const ce=[{title:"床位名",dataIndex:"name",key:"name"},{title:"所属房间的id",dataIndex:"roomId",key:"roomId"},{title:"押金收据单号",dataIndex:"receiptId",key:"receiptId"},{title:"是否正在使用中",dataIndex:"isInUse",key:"isInUse"},{title:"Action",key:"action",render:(i,s,o)=>e.jsxs(K,{size:"middle",children:[e.jsx(k,{type:"primary",onClick:()=>Z(o,s,"bed"),children:"修改此条目"}),e.jsxs(k,{type:"primary",onClick:()=>Ae(o),children:["删除",s.name]})]})}];function Ae(i){L({method:"DELETE",url:`/api/management/bed/${W[i]}`}).then(s=>{const{code:o}=s.data;if(o===2e3)me(1,100);else{const{msg:t}=s.data;alert(t)}})}function me(i,s){L.get("/api/management/bed",{params:{pageNum:i,pageSize:s,apartmentId:1,query:"",roomId:"",isInUse:""}}).then(o=>{const{code:t,msg:v}=o.data,{list:l,total:C}=o.data.result;if(t===2e3){p("床位列表"),j(Math.ceil(C/s)),j(n=>(q.publish("tablepage",n),n)),y(ce),Y(ce),T(n=>(n=[],n));let P=[];for(let n=0;n<l.length;n++){T(B=>(B.push(l[n].id),B));let c={};c.key=G(),c.index=n,c.name=l[n].name,c.roomId=l[n].roomId,c.receiptId=l[n].receiptId,c.isInUse=l[n].isInUse,P.push(c)}I(P),X(()=>(q.publish("tablereturned",!0),!0))}else alert(v)})}function ue(i,s){u(()=>!0),f(i),d(s.name)}function Pe(){window.localStorage.removeItem("token"),u(!1)}return r?e.jsxs("div",{children:[e.jsx(Ye,{lognum:g,usermsg:a,textitem:et,columns:h,tabledata:F,tablepage:S,tabletitle:b,logOut:Pe,getApart:ee,getRoom:te,getBed:me}),e.jsx(Ze,{type:Se,title:O,placement:"bottom",onClose:()=>w(!1),open:x,tableitems:we,records:J,apartUpdate:ke,roomUpdate:Re})]}):e.jsx("div",{className:"login-box",children:e.jsx("div",{className:"glass",children:e.jsxs("div",{className:"innerlogin",children:[e.jsx("p",{children:"公寓员工管理系统"}),e.jsx("img",{src:$e}),e.jsxs(ye,{children:[e.jsx(N,{path:"/login",element:e.jsx(Qe,{login:ue})}),e.jsx(N,{path:"/register",element:e.jsx(Ge,{})}),e.jsx(N,{path:"*",element:e.jsx(be,{to:"/login"})})]})]})})})}const se="user_key",rt={saveUser(r){re.set(se,r)},getUser(){return re.get(se)||{}},removeUser(){re.remove(se)}};rt.getUser();Le.createRoot(document.getElementById("root")).render(e.jsx(Ee,{children:e.jsx(tt,{})}));
