import{c as b,h as tt,a as U,e as Wr,b as Et}from"./@babel-5495bcd4.js";import{r as a}from"./react-4fd50329.js";import{r as wt}from"./react-dom-ba68e95b.js";import{c as Lr,b as I,d as Nt,u as Tt,r as lt,s as xr,e as St,f as Pe,i as at,h as Lt,j as st,g as nt,k as Wt,l as xt,m as zt,n as Bt,o as _t}from"./rc-util-12454e0c.js";import{c as Ze}from"./classnames-4ba1ba1a.js";import{R as Pt}from"./rc-resize-observer-0143eda7.js";import{C as Dt}from"./rc-motion-7e38dc9f.js";import"./react-is-e8e5dbb3.js";var kt=a.createContext(null),vt=[];function Ht(e,t){var r=a.useState(function(){if(!Lr())return null;var C=document.createElement("div");return C}),n=b(r,1),o=n[0],i=a.useRef(!1),l=a.useContext(kt),s=a.useState(vt),f=b(s,2),m=f[0],y=f[1],d=l||(i.current?void 0:function(C){y(function(S){var N=[C].concat(tt(S));return N})});function w(){o.parentElement||document.body.appendChild(o),i.current=!0}function v(){var C;(C=o.parentElement)===null||C===void 0||C.removeChild(o),i.current=!1}return I(function(){return e?l?l(w):w():v(),v},[e]),I(function(){m.length&&(m.forEach(function(C){return C()}),y(vt))},[m]),[o,d]}function Vt(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var At="rc-util-locker-".concat(Date.now()),ct=0;function Ft(e){var t=!!e,r=a.useState(function(){return ct+=1,"".concat(At,"_").concat(ct)}),n=b(r,1),o=n[0];I(function(){if(t){var i=Nt(),l=Vt();Tt(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(i,"px);"):"",`
}`),o)}else lt(o);return function(){lt(o)}},[t,o])}var ft=!1;function It(e){return typeof e=="boolean"&&(ft=e),ft}var dt=function(t){return t===!1?!1:!Lr()||!t?null:typeof t=="string"?document.querySelector(t):typeof t=="function"?t():t},Rt=a.forwardRef(function(e,t){var r=e.open,n=e.autoLock,o=e.getContainer;e.debug;var i=e.autoDestroy,l=i===void 0?!0:i,s=e.children,f=a.useState(r),m=b(f,2),y=m[0],d=m[1],w=y||r;a.useEffect(function(){(l||r)&&d(r)},[r,l]);var v=a.useState(function(){return dt(o)}),C=b(v,2),S=C[0],N=C[1];a.useEffect(function(){var B=dt(o);N(B??null)});var T=Ht(w&&!S),c=b(T,2),R=c[0],L=c[1],z=S??R;Ft(n&&r&&Lr()&&(z===R||z===document.body));var J=null;if(s&&xr(s)&&t){var ee=s;J=ee.ref}var X=St(J,t);if(!w||!Lr()||S===void 0)return null;var A=z===!1||It(),g=s;return t&&(g=a.cloneElement(s,{ref:X})),a.createElement(kt.Provider,{value:L},A?g:wt.createPortal(g,z))}),mt=a.createContext(null);function ht(e){return e?Array.isArray(e)?e:[e]:[]}function Ut(e,t,r,n){return a.useMemo(function(){var o=ht(r??t),i=ht(n??t),l=new Set(o),s=new Set(i);return e&&(l.has("hover")&&(l.delete("hover"),l.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[l,s]},[e,t,r,n])}function qt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function jt(e,t,r,n){for(var o=r.points,i=Object.keys(e),l=0;l<i.length;l+=1){var s,f=i[l];if(qt((s=e[f])===null||s===void 0?void 0:s.points,o,n))return"".concat(t,"-placement-").concat(f)}return""}function gt(e,t,r,n){return t||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function sr(e){return e.ownerDocument.defaultView}function ot(e){for(var t=[],r=e?.parentElement,n=["hidden","scroll","clip","auto"];r;){var o=sr(r).getComputedStyle(r),i=o.overflowX,l=o.overflowY,s=o.overflow;[i,l,s].some(function(f){return n.includes(f)})&&t.push(r),r=r.parentElement}return t}function lr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function ur(e){return lr(parseFloat(e),0)}function yt(e,t){var r=U({},e);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement)){var o=sr(n).getComputedStyle(n),i=o.overflow,l=o.overflowClipMargin,s=o.borderTopWidth,f=o.borderBottomWidth,m=o.borderLeftWidth,y=o.borderRightWidth,d=n.getBoundingClientRect(),w=n.offsetHeight,v=n.clientHeight,C=n.offsetWidth,S=n.clientWidth,N=ur(s),T=ur(f),c=ur(m),R=ur(y),L=lr(Math.round(d.width/C*1e3)/1e3),z=lr(Math.round(d.height/w*1e3)/1e3),J=(C-S-c-R)*L,ee=(w-v-N-T)*z,X=N*z,A=T*z,g=c*L,B=R*L,P=0,ae=0;if(i==="clip"){var re=ur(l);P=re*L,ae=re*z}var G=d.x+g-P,$=d.y+X-ae,te=G+d.width+2*P-g-B-J,De=$+d.height+2*ae-X-A-ee;r.left=Math.max(r.left,G),r.top=Math.max(r.top,$),r.right=Math.min(r.right,te),r.bottom=Math.min(r.bottom,De)}}),r}function Ct(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function Mt(e,t){var r=t||[],n=b(r,2),o=n[0],i=n[1];return[Ct(e.width,o),Ct(e.height,i)]}function bt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Ke(e,t){var r=t[0],n=t[1],o,i;return r==="t"?i=e.y:r==="b"?i=e.y+e.height:i=e.y+e.height/2,n==="l"?o=e.x:n==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:i}}function Se(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,o){return o===t?r[n]||"c":n}).join("")}function Qt(e,t,r,n,o,i,l){var s=a.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[n]||{}}),f=b(s,2),m=f[0],y=f[1],d=a.useRef(0),w=a.useMemo(function(){return t?ot(t):[]},[t]),v=a.useRef({}),C=function(){v.current={}};e||C();var S=Pe(function(){if(t&&r&&e){let F=function(Je,Be){var Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:se,nr=P.x+Je,or=P.y+Be,ir=nr+p,Er=or+O,Xr=Math.max(nr,Ge.left),Or=Math.max(or,Ge.top),pr=Math.min(ir,Ge.right),et=Math.min(Er,Ge.bottom);return Math.max(0,(pr-Xr)*(et-Or))},ar=function(){ye=P.y+E,qe=ye+O,Ce=P.x+W,Me=Ce+p};var c=t,R=c.style.left,L=c.style.top,z=c.style.right,J=c.style.bottom,ee=c.ownerDocument,X=sr(c),A=U(U({},o[n]),i);c.style.left="0",c.style.top="0",c.style.right="auto",c.style.bottom="auto";var g;if(Array.isArray(r))g={x:r[0],y:r[1],width:0,height:0};else{var B=r.getBoundingClientRect();g={x:B.x,y:B.y,width:B.width,height:B.height}}var P=c.getBoundingClientRect(),ae=X.getComputedStyle(c),re=ae.width,G=ae.height,$=ee.documentElement,te=$.clientWidth,De=$.clientHeight,_e=$.scrollWidth,ne=$.scrollHeight,le=$.scrollTop,ke=$.scrollLeft,O=P.height,p=P.width,q=g.height,V=g.width,He={left:0,top:0,right:te,bottom:De},Re={left:-ke,top:-le,right:_e-ke,bottom:ne-le},oe=A.htmlRegion,Ve="visible",$e="visibleFirst";oe!=="scroll"&&oe!==$e&&(oe=Ve);var j=oe===$e,Ee=yt(Re,w),M=yt(He,w),se=oe===Ve?M:Ee,K=j?M:se;c.style.left="auto",c.style.top="auto",c.style.right="0",c.style.bottom="0";var Ae=c.getBoundingClientRect();c.style.left=R,c.style.top=L,c.style.right=z,c.style.bottom=J;var ve=lr(Math.round(p/parseFloat(re)*1e3)/1e3),me=lr(Math.round(O/parseFloat(G)*1e3)/1e3);if(ve===0||me===0||at(r)&&!Lt(r))return;var ce=A.offset,zr=A.targetOffset,Br=Mt(P,ce),vr=b(Br,2),Fe=vr[0],Z=vr[1],_r=Mt(g,zr),cr=b(_r,2),Hr=cr[0],fr=cr[1];g.x-=Hr,g.y-=fr;var he=A.points||[],dr=b(he,2),Vr=dr[0],Ie=dr[1],_=bt(Ie),H=bt(Vr),mr=Ke(g,_),hr=Ke(P,H),ge=U({},A),W=mr.x-hr.x+Fe,E=mr.y-hr.y+Z,ie=F(W,E),Ne=F(W,E,M),Q=Ke(g,["t","l"]),gr=Ke(P,["t","l"]),Ue=Ke(g,["b","r"]),Ye=Ke(P,["b","r"]),Te=A.overflow||{},yr=Te.adjustX,fe=Te.adjustY,Cr=Te.shiftX,Xe=Te.shiftY,Oe=function(Be){return typeof Be=="boolean"?Be:Be>=0},ye,qe,Ce,Me;ar();var pe=Oe(fe),Mr=H[0]===_[0];if(pe&&H[0]==="t"&&(qe>K.bottom||v.current.bt)){var be=E;Mr?be-=O-q:be=Q.y-Ye.y-Z;var er=F(W,be),Ar=F(W,be,M);er>ie||er===ie&&(!j||Ar>=Ne)?(v.current.bt=!0,E=be,ge.points=[Se(H,0),Se(_,0)]):v.current.bt=!1}if(pe&&H[0]==="b"&&(ye<K.top||v.current.tb)){var de=E;Mr?de+=O-q:de=Ue.y-gr.y-Z;var br=F(W,de),Y=F(W,de,M);br>ie||br===ie&&(!j||Y>=Ne)?(v.current.tb=!0,E=de,ge.points=[Se(H,0),Se(_,0)]):v.current.tb=!1}var wr=Oe(yr),Sr=H[1]===_[1];if(wr&&H[1]==="l"&&(Me>K.right||v.current.rl)){var Le=W;Sr?Le-=p-V:Le=Q.x-Ye.x-Fe;var Pr=F(Le,E),Fr=F(Le,E,M);Pr>ie||Pr===ie&&(!j||Fr>=Ne)?(v.current.rl=!0,W=Le,ge.points=[Se(H,1),Se(_,1)]):v.current.rl=!1}if(wr&&H[1]==="r"&&(Ce<K.left||v.current.lr)){var We=W;Sr?We+=p-V:We=Ue.x-gr.x-Fe;var Dr=F(We,E),Ir=F(We,E,M);Dr>ie||Dr===ie&&(!j||Ir>=Ne)?(v.current.lr=!0,W=We,ge.points=[Se(H,1),Se(_,1)]):v.current.lr=!1}ar();var xe=Cr===!0?0:Cr;typeof xe=="number"&&(Ce<M.left&&(W-=Ce-M.left,g.x+V<M.left+xe&&(W+=g.x-M.left+V-xe)),Me>M.right&&(W-=Me-M.right,g.x>M.right-xe&&(W+=g.x-M.right+xe)));var ue=Xe===!0?0:Xe;typeof ue=="number"&&(ye<M.top&&(E-=ye-M.top,g.y+q<M.top+ue&&(E+=g.y-M.top+q-ue)),qe>M.bottom&&(E-=qe-M.bottom,g.y>M.bottom-ue&&(E+=g.y-M.bottom+ue)));var ze=P.x+W,we=ze+p,rr=P.y+E,Ur=rr+O,kr=g.x,qr=kr+V,tr=g.y,jr=tr+q,Qr=Math.max(ze,kr),Jr=Math.min(we,qr),Rr=(Qr+Jr)/2,Gr=Rr-ze,Kr=Math.max(rr,tr),Zr=Math.min(Ur,jr),Yr=(Kr+Zr)/2,$r=Yr-rr;l?.(t,ge);var je=Ae.right-P.x-(W+P.width),Qe=Ae.bottom-P.y-(E+P.height);y({ready:!0,offsetX:W/ve,offsetY:E/me,offsetR:je/ve,offsetB:Qe/me,arrowX:Gr/ve,arrowY:$r/me,scaleX:ve,scaleY:me,align:ge})}}),N=function(){d.current+=1;var R=d.current;Promise.resolve().then(function(){d.current===R&&S()})},T=function(){y(function(R){return U(U({},R),{},{ready:!1})})};return I(T,[n]),I(function(){e||T()},[e]),[m.ready,m.offsetX,m.offsetY,m.offsetR,m.offsetB,m.arrowX,m.arrowY,m.scaleX,m.scaleY,m.align,N]}function Jt(e,t,r,n){I(function(){if(e&&t&&r){let y=function(){n()};var o=t,i=r,l=ot(o),s=ot(i),f=sr(i),m=new Set([f].concat(tt(l),tt(s)));return m.forEach(function(d){d.addEventListener("scroll",y,{passive:!0})}),f.addEventListener("resize",y,{passive:!0}),n(),function(){m.forEach(function(d){d.removeEventListener("scroll",y),f.removeEventListener("resize",y)})}}},[e,t,r])}function Gt(e,t,r,n,o,i,l,s){var f=a.useRef(e),m=a.useRef(!1);f.current!==e&&(m.current=!0,f.current=e),a.useEffect(function(){var y=st(function(){m.current=!1});return function(){st.cancel(y)}},[e]),a.useEffect(function(){if(t&&n&&(!o||i)){var y=function(){var J=!1,ee=function(g){var B=g.target;J=l(B)},X=function(g){var B=g.target;!m.current&&f.current&&!J&&!l(B)&&s(!1)};return[ee,X]},d=y(),w=b(d,2),v=w[0],C=w[1],S=y(),N=b(S,2),T=N[0],c=N[1],R=sr(n);R.addEventListener("mousedown",v),R.addEventListener("click",C);var L=nt(r);return L&&(L.addEventListener("mousedown",T),L.addEventListener("click",c)),function(){R.removeEventListener("mousedown",v),R.removeEventListener("click",C),L&&(L.removeEventListener("mousedown",T),L.removeEventListener("click",c))}}},[t,r,n,o,i])}function Kt(e){var t=e.prefixCls,r=e.align,n=e.arrow,o=e.arrowPos,i=n||{},l=i.className,s=i.content,f=o.x,m=f===void 0?0:f,y=o.y,d=y===void 0?0:y,w=a.useRef();if(!r||!r.points)return null;var v={position:"absolute"};if(r.autoArrow!==!1){var C=r.points[0],S=r.points[1],N=C[0],T=C[1],c=S[0],R=S[1];N===c||!["t","b"].includes(N)?v.top=d:N==="t"?v.top=0:v.bottom=0,T===R||!["l","r"].includes(T)?v.left=m:T==="l"?v.left=0:v.right=0}return a.createElement("div",{ref:w,className:Ze("".concat(t,"-arrow"),l),style:v},s)}function Zt(e){var t=e.prefixCls,r=e.open,n=e.zIndex,o=e.mask,i=e.motion;return o?a.createElement(Dt,Wr({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(l){var s=l.className;return a.createElement("div",{style:{zIndex:n},className:Ze("".concat(t,"-mask"),s)})}):null}var Yt=a.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),Xt=a.forwardRef(function(e,t){var r=e.popup,n=e.className,o=e.prefixCls,i=e.style,l=e.target,s=e.onVisibleChanged,f=e.open,m=e.keepDom,y=e.onClick,d=e.mask,w=e.arrow,v=e.arrowPos,C=e.align,S=e.motion,N=e.maskMotion,T=e.forceRender,c=e.getPopupContainer,R=e.autoDestroy,L=e.portal,z=e.zIndex,J=e.onMouseEnter,ee=e.onMouseLeave,X=e.ready,A=e.offsetX,g=e.offsetY,B=e.offsetR,P=e.offsetB,ae=e.onAlign,re=e.onPrepare,G=e.stretch,$=e.targetWidth,te=e.targetHeight,De=typeof r=="function"?r():r,_e=f||m,ne=c?.length>0,le=a.useState(!c||!ne),ke=b(le,2),O=ke[0],p=ke[1];if(I(function(){!O&&ne&&l&&p(!0)},[O,ne,l]),!O)return null;var q="auto",V={left:"-1000vw",top:"-1000vh",right:q,bottom:q};if(X||!f){var He=C.points,Re=C._experimental,oe=Re?.dynamicInset,Ve=oe&&He[0][1]==="r",$e=oe&&He[0][0]==="b";Ve?(V.right=B,V.left=q):(V.left=A,V.right=q),$e?(V.bottom=P,V.top=q):(V.top=g,V.bottom=q)}var j={};return G&&(G.includes("height")&&te?j.height=te:G.includes("minHeight")&&te&&(j.minHeight=te),G.includes("width")&&$?j.width=$:G.includes("minWidth")&&$&&(j.minWidth=$)),f||(j.pointerEvents="none"),a.createElement(L,{open:T||_e,getContainer:c&&function(){return c(l)},autoDestroy:R},a.createElement(Zt,{prefixCls:o,open:f,zIndex:z,mask:d,motion:N}),a.createElement(Pt,{onResize:ae,disabled:!f},function(Ee){return a.createElement(Dt,Wr({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:T,leavedClassName:"".concat(o,"-hidden")},S,{onAppearPrepare:re,onEnterPrepare:re,visible:f,onVisibleChanged:function(se){var K;S==null||(K=S.onVisibleChanged)===null||K===void 0||K.call(S,se),s(se)}}),function(M,se){var K=M.className,Ae=M.style,ve=Ze(o,K,n);return a.createElement("div",{ref:Wt(Ee,t,se),className:ve,style:U(U(U(U({"--arrow-x":"".concat(v.x||0,"px"),"--arrow-y":"".concat(v.y||0,"px")},V),j),Ae),{},{boxSizing:"border-box",zIndex:z},i),onMouseEnter:J,onMouseLeave:ee,onClick:y},w&&a.createElement(Kt,{prefixCls:o,arrow:w,arrowPos:v,align:C}),a.createElement(Yt,{cache:!f},De))})}))}),Ot=a.forwardRef(function(e,t){var r=e.children,n=e.getTriggerDOMNode,o=xr(r),i=a.useCallback(function(s){xt(t,n?n(s):s)},[n]),l=St(i,r.ref);return o?a.cloneElement(r,{ref:l}):r}),pt=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function ea(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rt,t=a.forwardRef(function(r,n){var o=r.prefixCls,i=o===void 0?"rc-trigger-popup":o,l=r.children,s=r.action,f=s===void 0?"hover":s,m=r.showAction,y=r.hideAction,d=r.popupVisible,w=r.defaultPopupVisible,v=r.onPopupVisibleChange,C=r.afterPopupVisibleChange,S=r.mouseEnterDelay,N=r.mouseLeaveDelay,T=N===void 0?.1:N,c=r.focusDelay,R=r.blurDelay,L=r.mask,z=r.maskClosable,J=z===void 0?!0:z,ee=r.getPopupContainer,X=r.forceRender,A=r.autoDestroy,g=r.destroyPopupOnHide,B=r.popup,P=r.popupClassName,ae=r.popupStyle,re=r.popupPlacement,G=r.builtinPlacements,$=G===void 0?{}:G,te=r.popupAlign,De=r.zIndex,_e=r.stretch,ne=r.getPopupClassNameFromAlign,le=r.alignPoint,ke=r.onPopupClick,O=r.onPopupAlign,p=r.arrow,q=r.popupMotion,V=r.maskMotion,He=r.popupTransitionName,Re=r.popupAnimation,oe=r.maskTransitionName,Ve=r.maskAnimation,$e=r.className,j=r.getTriggerDOMNode,Ee=Et(r,pt),M=A||g||!1,se=a.useState(!1),K=b(se,2),Ae=K[0],ve=K[1];I(function(){ve(zt())},[]);var me=a.useRef({}),ce=a.useContext(mt),zr=a.useMemo(function(){return{registerSubPopup:function(h,D){me.current[h]=D,ce?.registerSubPopup(h,D)}}},[ce]),Br=Bt(),vr=a.useState(null),Fe=b(vr,2),Z=Fe[0],_r=Fe[1],cr=Pe(function(u){at(u)&&Z!==u&&_r(u),ce?.registerSubPopup(Br,u)}),Hr=a.useState(null),fr=b(Hr,2),he=fr[0],dr=fr[1],Vr=Pe(function(u){at(u)&&he!==u&&dr(u)}),Ie=a.Children.only(l),_=Ie?.props||{},H={},mr=Pe(function(u){var h,D,x=he;return x?.contains(u)||((h=nt(x))===null||h===void 0?void 0:h.host)===u||u===x||Z?.contains(u)||((D=nt(Z))===null||D===void 0?void 0:D.host)===u||u===Z||Object.values(me.current).some(function(k){return k?.contains(u)||u===k})}),hr=gt(i,q,Re,He),ge=gt(i,V,Ve,oe),W=a.useState(w||!1),E=b(W,2),ie=E[0],Ne=E[1],Q=d??ie,gr=Pe(function(u){d===void 0&&Ne(u)});I(function(){Ne(d||!1)},[d]);var Ue=a.useRef(Q);Ue.current=Q;var Ye=Pe(function(u){Q!==u&&(gr(u),v?.(u))}),Te=a.useRef(),yr=function(){clearTimeout(Te.current)},fe=function(h){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;yr(),D===0?Ye(h):Te.current=setTimeout(function(){Ye(h)},D*1e3)};a.useEffect(function(){return yr},[]);var Cr=a.useState(!1),Xe=b(Cr,2),Oe=Xe[0],ye=Xe[1];I(function(u){(!u||Q)&&ye(!0)},[Q]);var qe=a.useState(null),Ce=b(qe,2),Me=Ce[0],pe=Ce[1],Mr=a.useState([0,0]),be=b(Mr,2),er=be[0],Ar=be[1],de=function(h){Ar([h.clientX,h.clientY])},br=Qt(Q,Z,le?er:he,re,$,te,O),Y=b(br,11),wr=Y[0],Sr=Y[1],Le=Y[2],Pr=Y[3],Fr=Y[4],We=Y[5],Dr=Y[6],Ir=Y[7],xe=Y[8],ue=Y[9],ze=Y[10],we=Pe(function(){Oe||ze()});Jt(Q,he,Z,we),I(function(){we()},[er,re]),I(function(){Q&&!($!=null&&$[re])&&we()},[JSON.stringify(te)]);var rr=a.useMemo(function(){var u=jt($,i,ue,le);return Ze(u,ne?.(ue))},[ue,ne,$,i,le]);a.useImperativeHandle(n,function(){return{forceAlign:we}});var Ur=function(h){ye(!1),ze(),C?.(h)},kr=function(){return new Promise(function(h){pe(function(){return h})})};I(function(){Me&&(ze(),Me(),pe(null))},[Me]);var qr=a.useState(0),tr=b(qr,2),jr=tr[0],Qr=tr[1],Jr=a.useState(0),Rr=b(Jr,2),Gr=Rr[0],Kr=Rr[1],Zr=function(h,D){if(we(),_e){var x=D.getBoundingClientRect();Qr(x.width),Kr(x.height)}},Yr=Ut(Ae,f,m,y),$r=b(Yr,2),je=$r[0],Qe=$r[1],F=function(h,D,x,k){H[h]=function(it){var Nr;k?.(it),fe(D,x);for(var rt=arguments.length,ut=new Array(rt>1?rt-1:0),Tr=1;Tr<rt;Tr++)ut[Tr-1]=arguments[Tr];(Nr=_[h])===null||Nr===void 0||Nr.call.apply(Nr,[_,it].concat(ut))}},ar=je.has("click"),Je=Qe.has("click")||Qe.has("contextMenu");(ar||Je)&&(H.onClick=function(u){var h;Ue.current&&Je?fe(!1):!Ue.current&&ar&&(de(u),fe(!0));for(var D=arguments.length,x=new Array(D>1?D-1:0),k=1;k<D;k++)x[k-1]=arguments[k];(h=_.onClick)===null||h===void 0||h.call.apply(h,[_,u].concat(x))}),Gt(Q,Je,he,Z,L,J,mr,fe);var Be=je.has("hover"),Ge=Qe.has("hover"),nr,or;Be&&(F("onMouseEnter",!0,S,function(u){de(u)}),nr=function(){fe(!0,S)},le&&(H.onMouseMove=function(u){var h;(h=_.onMouseMove)===null||h===void 0||h.call(_,u)})),Ge&&(F("onMouseLeave",!1,T),or=function(){fe(!1,T)}),je.has("focus")&&F("onFocus",!0,c),Qe.has("focus")&&F("onBlur",!1,R),je.has("contextMenu")&&(H.onContextMenu=function(u){var h;de(u),fe(!0),u.preventDefault();for(var D=arguments.length,x=new Array(D>1?D-1:0),k=1;k<D;k++)x[k-1]=arguments[k];(h=_.onContextMenu)===null||h===void 0||h.call.apply(h,[_,u].concat(x))}),$e&&(H.className=Ze(_.className,$e));var ir=U(U({},_),H),Er={},Xr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Xr.forEach(function(u){Ee[u]&&(Er[u]=function(){for(var h,D=arguments.length,x=new Array(D),k=0;k<D;k++)x[k]=arguments[k];(h=ir[u])===null||h===void 0||h.call.apply(h,[ir].concat(x)),Ee[u].apply(Ee,x)})});var Or=a.cloneElement(Ie,U(U({},ir),Er)),pr={x:We,y:Dr},et=p?U({},p!==!0?p:{}):null;return a.createElement(a.Fragment,null,a.createElement(Pt,{disabled:!Q,ref:Vr,onResize:Zr},a.createElement(Ot,{getTriggerDOMNode:j},Or)),a.createElement(mt.Provider,{value:zr},a.createElement(Xt,{portal:e,ref:cr,prefixCls:i,popup:B,className:Ze(P,rr),style:ae,target:he,onMouseEnter:nr,onMouseLeave:or,zIndex:De,open:Q,keepDom:Oe,onClick:ke,mask:L,motion:hr,maskMotion:ge,onVisibleChanged:Ur,onPrepare:kr,forceRender:X,autoDestroy:M,getPopupContainer:ee,align:ue,arrow:et,arrowPos:pr,ready:wr,offsetX:Sr,offsetY:Le,offsetR:Pr,offsetB:Fr,onAlign:we,stretch:_e,targetWidth:jr/Ir,targetHeight:Gr/xe})))});return t}const va=ea(Rt);function ca(e){var t=a.createContext(void 0),r=function(o){var i=o.value,l=o.children,s=a.useRef(i);s.current=i;var f=a.useState(function(){return{getValue:function(){return s.current},listeners:new Set}}),m=b(f,1),y=m[0];return I(function(){wt.unstable_batchedUpdates(function(){y.listeners.forEach(function(d){d(i)})})},[i]),a.createElement(t.Provider,{value:y},l)};return{Context:t,Provider:r,defaultValue:e}}function fa(e,t){var r=Pe(typeof t=="function"?t:function(d){if(t===void 0)return d;if(!Array.isArray(t))return d[t];var w={};return t.forEach(function(v){w[v]=d[v]}),w}),n=a.useContext(e?.Context),o=n||{},i=o.listeners,l=o.getValue,s=a.useRef();s.current=r(n?l():e?.defaultValue);var f=a.useState({}),m=b(f,2),y=m[1];return I(function(){if(!n)return;function d(w){var v=r(w);_t(s.current,v,!0)||y({})}return i.add(d),function(){i.delete(d)}},[n]),s.current}var $t=a.createContext(0);function ra(){return a.useContext($t)}function da(e,t){var r=xr(e),n=function(i,l){var s=r?{ref:l}:{},f=a.useRef(0),m=a.useRef(i);return(!t||t(m.current,i))&&(f.current+=1),m.current=i,a.createElement($t.Provider,{value:f.current},a.createElement(e,Wr({},i,s)))};return r?a.forwardRef(n):n}function ma(e,t){var r=xr(e),n=function(i,l){var s=r?{ref:l}:{};return ra(),a.createElement(e,Wr({},i,s))};return r?a.memo(a.forwardRef(n),t):a.memo(n,t)}export{va as T,fa as a,ca as c,da as m,ma as r,ra as u};
